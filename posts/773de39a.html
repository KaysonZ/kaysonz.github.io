<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>专业实训-4G LTE | 風</title><meta name="author" content="栞风"><meta name="copyright" content="栞风"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="引入同前面介绍的2G、3G时代一样，4G时代也有诸多标准。任何用户高速移动下达到或超过100Mbps，静态数据传输达到1Gbps的无线数据网络系统都可以称作4G，而LTE（Long-Term Evolution 长期演进）技术只是其中之一。但因为LTE实在部署太广泛，所以才会看到4G就是LTE。下图是截止2018年8月LTE的全球部署情况。红色代表使用中。深蓝和浅蓝分别是正在部署和正在规划。  L">
<meta property="og:type" content="article">
<meta property="og:title" content="专业实训-4G LTE">
<meta property="og:url" content="https://www.kaysonz.top/posts/773de39a">
<meta property="og:site_name" content="風">
<meta property="og:description" content="引入同前面介绍的2G、3G时代一样，4G时代也有诸多标准。任何用户高速移动下达到或超过100Mbps，静态数据传输达到1Gbps的无线数据网络系统都可以称作4G，而LTE（Long-Term Evolution 长期演进）技术只是其中之一。但因为LTE实在部署太广泛，所以才会看到4G就是LTE。下图是截止2018年8月LTE的全球部署情况。红色代表使用中。深蓝和浅蓝分别是正在部署和正在规划。  L">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.kaysonz.top/img/avatar.jpg">
<meta property="article:published_time" content="2024-09-16T01:53:00.000Z">
<meta property="article:modified_time" content="2024-12-25T05:16:49.000Z">
<meta property="article:author" content="栞风">
<meta property="article:tag" content="通信网络">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.kaysonz.top/img/avatar.jpg"><link rel="shortcut icon" href="/img/icon.png"><link rel="canonical" href="https://www.kaysonz.top/posts/773de39a"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css?v=4.12.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":8,"unescape":true,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '专业实训-4G LTE',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-12-25 13:16:49'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/background.css"><link rel="stylesheet" href="/css/notice.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.0.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

document.addEventListener('pjax:send', () => {
  Pace.restart()
})
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">58</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">16</div></a><a href="/categories/"><div class="headline">课程</div><div class="length-num">20</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-mortar-board"></i><span> 课程</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-star"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background: rgba(0, 0, 0, .1);"><nav id="nav"><span id="blog-info"><a href="/" title="風"><img class="site-icon" src="/img/icon.png"/><span class="site-name">風</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-mortar-board"></i><span> 课程</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-star"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">专业实训-4G LTE</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-09-16T01:53:00.000Z" title="发表于 2024-09-16 09:53:00">2024-09-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-12-25T05:16:49.000Z" title="更新于 2024-12-25 13:16:49">2024-12-25</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%A4%A7%E5%9B%9B%E4%B8%8A/">大四上</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%A4%A7%E5%9B%9B%E4%B8%8A/%E4%B8%93%E4%B8%9A%E5%AE%9E%E8%AE%AD/">专业实训</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h1><p>同前面介绍的2G、3G时代一样，4G时代也有诸多标准。任何用户高速移动下达到或超过100Mbps，静态数据传输达到1Gbps的无线数据网络系统都可以称作4G，而LTE（Long-Term Evolution 长期演进）技术只是其中之一。但因为LTE实在部署太广泛，所以才会看到4G就是LTE。下图是截止2018年8月LTE的全球部署情况。红色代表使用中。深蓝和浅蓝分别是正在部署和正在规划。</p>
<p><img src="https://cdn.jsdelivr.net/gh/kaysonz/BlogPicHost/imgs/image-20240925233223819.png" alt="image-20240925233223819"></p>
<p>LTE由3GPP</p>
<h1 id="LET-A网络结构"><a href="#LET-A网络结构" class="headerlink" title="LET-A网络结构"></a>LET-A网络结构</h1><p>在LTE中，网络架构被称为 EPS（Evolved Packet System）。</p>
<p>其接入网部分被称为E-UTRAN（Evolved Universal Terrestrial Radio  Access Network）。</p>
<p>核心网部分被称为EPC（Evolved Packet Core）。这个核心网架构也被叫做网络架构被称作Service Architecture Evolution SAE （系统架构演进），因其是由PS域核心网网络架构演进而来。</p>
<p><img src="https://cdn.jsdelivr.net/gh/kaysonz/BlogPicHost/imgs/image-20240925232719175.png" alt="image-20240925232719175"></p>
<h2 id="接入网E-UTRAN"><a href="#接入网E-UTRAN" class="headerlink" title="接入网E-UTRAN"></a>接入网E-UTRAN</h2><p>E-UTRAN协议支撑了UE与无线网络的通信，其协议包含了多设备下无线信道的Medium Access Control (MAC)的机制，并保障了连接可靠性。其还支持对高层PDU的分段和重组以及IP报头压缩（这句话看不懂的话去复习现代通信网络）。</p>
<p>接入网中由3GPP制定网元为eNodeB。</p>
<ul>
<li>eNodeB：Evolved NodeB，中文叫演进型NodeB，简写为eNB。eNodeB相比3G/UMTS中的Node B，集成了部分RNC的功能。在“现代通信网络”一课中Baoninghai老师曾说过：“通信网络有扁平化发展的趋势”。这就是其体现，在5G网络中eNB直连核心网，不再有控制器。</li>
</ul>
<p>在LTE中eNB是具有相互通信的功能的，且没有集中控制器，这对eNB的分布式部署带来了极大的便利。甚至可以一条线部署（核心网-eNB-eNB-eNB-……-eNB）这样，这非常有利于轨道交通内基站的部署。</p>
<h2 id="核心网EPC"><a href="#核心网EPC" class="headerlink" title="核心网EPC"></a>核心网EPC</h2><p>LTE的核心网被称为EPC（Evolved Packet Core）。它提供一个基于分组交换的面向连接的网络通信。</p>
<p>在核心网上，因网元功能所行使的职责不同而被分为了两个面：控制面和用户面。控制面负责协调网络资源，对网络进行管理；而用户面传输和路由用户数据，让不同用户间数据可达。在下面将会更详细地介绍。</p>
<p>这体现出了一个点：LTE的网络是<strong>纯基于IP的（Purely IP based）</strong>全PS域网络，<strong>没有CS域</strong>，无论是用户面还是控制面，他们都基于IP连接，相互间只是使用IP构建出了一个逻辑链路。相应的，承载这种连接（即，提供物理连接、路由等）的“承载网”被称为EPS Bearer。在这个EPS Bearer上，可以定义给予用户的QoS，<del>这取决于用户给的米够不够</del>。</p>
<div class="note danger flat"><p>Purely IP based这个特点五星级！</p>
</div>
<p>在下图中，连接UE-ENodeB-MME之间还有一条线写了个“NAS（Non-Access-stratum）”，这是何物呢？其实，在UE-eNodeB之间还有一个AS（Access-stratum）没写出来。他们分别是UE和MME之间的功能层和UE和eNB间的功能层。</p>
<p><img src="https://cdn.jsdelivr.net/gh/kaysonz/BlogPicHost/imgs/image-20240925232719175.png" alt="image-20240925232719175"></p>
<p>任何连个物体之间通信需要同一种协议，就像两个人之间交流需要通过同一种语言，所以UE和MME之间的交互的协议就是NAS即非接入层。为什么叫非接入层？因为UE和MME都不属于接入层设备（eNodeB是接入设备），所以UE和MME之间的通信协议叫非接入层。而UE和eNB间就被称为接入层（AS）。在下图中能更体现这种关系，NAS是AS的上层协议，AS被eNB解析后，NAS帧作为AS层的Payload被完整转发给了MME。</p>
<p><img src="https://cdn.jsdelivr.net/gh/kaysonz/BlogPicHost/imgs/image-20240926010951925.png" alt="image-20240926010951925" style="zoom:80%;" /></p>
<h3 id="EPC核心网元"><a href="#EPC核心网元" class="headerlink" title="EPC核心网元"></a>EPC核心网元</h3><p>回到LTE网络结构图，在EPC中含有众多网元，其主要网元和作用如下：</p>
<ul>
<li><strong>MME：</strong>Mobile Managenment Entity 移动管理实体。它是LTE网络中的控制大脑，负责对用户进行身份验证，切换等操作。如前面介绍，其采用NAS信令集。当S-GW注册的空闲用户收到新数据时，MME 会寻呼用户。当用户连接到 eNodeB 时，eNodeB 会选择 MME。MME 依次选择S-GW和P-GW。它对于用户的鉴权是通过访问HSS（Home Subscriber Server）实现的。</li>
<li><strong>HSS/AAA：</strong>Home Subscriber Server 归属签约用户服务器。用于存储用户签约信息的服务器，是2G/3G网元HLR的演进和升级，主要负责管理用户的签约数据及移动用户的位置信息。其功能与HLR相同，但HLR适用于2G/3G，而HSS是4G，其接口也不同，采用S6a接口与MME相连，内含Diameter协议，基于IP承载。（对应的，HLR采用MAP协议，基于TDM承载）。而和HSS并列的还有一个AAA（Authentication、Authorization、Accounting）</li>
<li><strong>S-GW：</strong>Serving Gateway，服务网关。其主要功能为1. 路由和转发用户数据包 2.用户数据缓存和寻呼支持 3.移动性切换管理 4.进行传输层数据包标记 5.做为本地锚点。其是属于用户面的网关，是由UMTS中的SGSN演变而来。</li>
<li><strong>P-GW：</strong>PDN Gateway，PDN网关。其中PDN全称为Packet Data Network (分组数据网络)。这里这个PDN指的是外部PDN，而非前面提到的EPS Bearer中用到的PDN。可以把它理解为连接当前区域网络和其他网络的网关。P-GW的主要功能有 1. 做为 Inter-eNB切换中的本地移动性锚点（MAP）2. Inter-3GPP移动性锚点 3.合法侦听 4.跨运营商计费的用户账单和QCI粒度 5.UE IP地址分配。这也是属于用户面网关。</li>
<li><strong>ePDG：</strong>当UE和EPC通过非3GPP标准接入时，ePDG负责保证数据传输安全</li>
<li><strong>ANDSF：</strong>Access Network Discovery and Selection Function 接入网络发现和选择功能。可为3GPP和非3GPP（如Wi-Fi）的用户设备（UE）提供有关连接的接入信息。ANDSF的目的是协助UE发现在其附近的接入网络，并提供接入的优先次序和管理这些网络的连接规则。</li>
</ul>
<p>这里面S-GW和P-GW的描述都抽象得很，更简单的对其最重要功能的描述是：PGW是UE到外部网络的默认路由；SGW是分组路由和转发，以及eNB间切换的负责人。</p>
<p>下图是从3G核心网到5G核心网间网元的进化历程。</p>
<p><img src="https://cdn.jsdelivr.net/gh/kaysonz/BlogPicHost/imgs/4e9b56106827be399f13a50b8f8a6b4b.png" alt="img" style="zoom:67%;" /></p>
<h3 id="EPC网元间接口："><a href="#EPC网元间接口：" class="headerlink" title="EPC网元间接口："></a>EPC网元间接口：</h3><p>TE网络内不同网元和其他网元连接有不同的“接口”，例如MME和S-GW连接就是通过S11接口。所谓接口就是一组逻辑上的连接+所使用的协议栈。例如eNB和S-GW间双方有网络有路由，处于可达状态，双方互相给对方一个IP，通过这个IP就可以以自己的身份访问对方；互相也采用同一套通信协议，这样大家就可以互联互通了。在IUV实验手册内有更具象化的配置，如下图，eNB和SGW间的接口是S1-U，这里S1-U的IP地址是3.3.3.1，因此当eNB访问这个IP时，SGW就知道这是eNB来信了。</p>
<p><img src="https://cdn.jsdelivr.net/gh/kaysonz/BlogPicHost/imgs/image-20240926004929203.png" alt="image-20240926004929203" style="zoom:50%;" /></p>
<ul>
<li>S5/S8：连接S-GW与P-GW</li>
<li>S6b：连接HSS/AAA与P-GW</li>
<li>S2b：连接ePDG与P-GW</li>
<li>sWm：连接HSS/AAA 与 ePDG</li>
<li>S6a：连接MME与HSS/AAA</li>
<li>S11：连接MME与S-GW</li>
<li>S1接口：LTE eNodeB（基站）与 EPC（分组核心网）之间的通讯接口；分为S1-MME（或S1-C）的控制面接口和S1-U的用户面接口。S1-C连接eNB和MME，S1-U连接eNB和S-GW</li>
<li>X2接口：eNB间的通信接口（控制面通信），X2接口的功能很强大，可以尽可能减少对核心网的依赖，但是现网中并未完全使用X2的功能。</li>
</ul>
<h1 id="LTE的控制流程"><a href="#LTE的控制流程" class="headerlink" title="LTE的控制流程"></a>LTE的控制流程</h1><p>在EPC中有三种区域类型：MME pool areas, Tracking areas, S-GW service areas</p>
<p><img src="https://cdn.jsdelivr.net/gh/kaysonz/BlogPicHost/imgs/image-20240926024009997.png" alt="image-20240926024009997" style="zoom:67%;" /></p>
<ul>
<li>MME pool areas：移动设备可以在不改变服务MME的情况下移动的区域（网络运营商可能会将一大个区域配置为一个MME池，如一个主要城市）</li>
<li>Tracking areas：跟踪区，由多个eNB组成的，非重叠的小区域。这相当于2G/3G中的Location Area，用于跟踪UE的位置。在一个TA内移动UE不需要向EPC更新自己的位置。当处于空闲状态的UE需要被寻呼时，必须在UE所注册的跟踪区的所有小区进行寻呼。</li>
<li>S-GW service areas：由一个或多个SGW连接的区域，移动设备可以在该区域内移动而无需更改SGW。</li>
</ul>
<h2 id="身份识别"><a href="#身份识别" class="headerlink" title="身份识别"></a>身份识别</h2><p>要进行切换，首先得认识谁是谁。</p>
<p>为此，在网络侧对MME使用GUMMEI（Global Unique MME Identity）； Tracking Area使用TAC码（Tracking Area Code）和TAI码（Tracking Area Identity）；Cell使用ECI（E-UTRAN Cell Identity）、ECGI (E-UTRAN Cell Global Identifier) 、PCI (Physical Cell Identity) 。</p>
<p>在用户侧使用IMEI (International Mobile Equipment Identity)和IMSI (International Mobile Subscriber Identity)，以及根据此生成的GUTI（Global Unique Temporary ID）</p>
<p>下面将详细介绍。</p>
<h3 id="GUMMEI"><a href="#GUMMEI" class="headerlink" title="GUMMEI"></a>GUMMEI</h3><p><img src="https://cdn.jsdelivr.net/gh/kaysonz/BlogPicHost/imgs/image-20240926030254876.png" alt="image-20240926030254876"></p>
<p>GUMMEI由48bit组成，其中：</p>
<ul>
<li>MCC（Mobile Country Code）：移动国家码，3位数字，常见的有 234 – UK; 310 – USA; 440 – Japan; 450 – Korea; 460 – China; 466 – CN_Taiwan</li>
<li>MNC（Mobile Network Code）：移动网络码，2位数字，中国移动根据业务不同使用00,02,07；中国联通使用01,06,09；中国电信使用03,05,11；中国铁通使用20</li>
<li>PLMN-ID（Public Land Mobile Network IDentity）： 公共陆地移动网络ID，其等于MCC+MNC</li>
<li>MMEGI（MME Group Identity)：MME组标识，在一个PLMN内它是唯一的。由运营商自行分配。</li>
<li>MMEC（MME Code)：MME编号，在一个MME组内它是唯一的，由运营商自行分配。</li>
</ul>
<p>在此处，某个国家（MCC区分）的一个运营商的某种业务（MNC区分）划分了一个基本的PLMN区域。</p>
<h3 id="TAC-amp-TAI"><a href="#TAC-amp-TAI" class="headerlink" title="TAC&amp;TAI"></a>TAC&amp;TAI</h3><ul>
<li>跟踪区域代码（TAC）是固定长度16bit（4位HEX码）码组，用于标识PLMN内的跟踪区域标识，在单个PLMN内唯一</li>
<li>TAI由跟踪区域所属的PLMN标识和跟踪区域的TAC（跟踪区域代码）构成。</li>
</ul>
<h3 id="ECI-amp-ECGI-amp-PCI"><a href="#ECI-amp-ECGI-amp-PCI" class="headerlink" title="ECI&amp;ECGI&amp;PCI"></a>ECI&amp;ECGI&amp;PCI</h3><ul>
<li>ECI：演进通用陆地无线接入网络小区标识，28位bit的固定长度，并使用十六进制表示进行编码。它有eNB ID和小区标识两部分组成，在一个PLMN中唯一</li>
<li>ECGI：PLMN-ID+ECI</li>
<li>PCI：物理小区标识，取值范围0-503（共504个），单一小区覆盖范围内及其毗邻小区内不能有重复PCI。LTE的小区搜索流程确定了采用小区ID分组的形式，首先通过SSCH（辅助同步码）确定小区组ID，再通过PSCH（基本同步码）确定具体的小区ID。PCI在LTE中的作用有点类似扰码在W中的作用，因此规划的目的也类似，就是必须保证复用距离；（这里面的同步码是具有不同扰码和时隙的物理层编码）</li>
</ul>
<h3 id="IMEI-amp-IMSI-amp-GUTI"><a href="#IMEI-amp-IMSI-amp-GUTI" class="headerlink" title="IMEI&amp;IMSI&amp;GUTI"></a>IMEI&amp;IMSI&amp;GUTI</h3><ul>
<li><p>IMEI：国际移动设备识别码，15位数字，一个手机一个标识（双卡双待的手机有俩）</p>
</li>
<li><p>IMSI：国际移动用户识别号，15位数字，全球唯一ID，用来区别每一位移动用户。与SIM卡是绑定关系。其由三部分构成：MCC+MNC+MSIN。最后一个MSIN是移动订阅用户识别代码（Mobile subscription identification number），用来这个国家（MCC）内的特定业务内（MNC）的用户用的。</p>
</li>
</ul>
<p>但是长期使用IMSI并不安全，因此需要一个东西来代替他们执行临时鉴权，避免长期通过无线传输IMSI。</p>
<ul>
<li>M-TMSI (M Temporary Mobile Subscriber Identity)：32bit，用于MME对用户进行临时鉴权，其是由网络随机分配的，区域内每个用户唯一。当用户离开时，其持有的M-TMSI被释放，可以分配给其他用户。</li>
</ul>
<p>结合M-TMSI和前面介绍的，即可生成GUTI（Global Unique Temporary ID），如下图</p>
<p><img src="https://cdn.jsdelivr.net/gh/kaysonz/BlogPicHost/imgs/image-20240926033303386.png" alt="image-20240926033303386"></p>
<h2 id="三类移动性管理"><a href="#三类移动性管理" class="headerlink" title="三类移动性管理"></a>三类移动性管理</h2><p>EPS Mobility Management (EMM)指的是与 E-UTRAN 接入、身份验证和安全上的移动性相关的程序。3GPP将其分为三类：通用流程（common procedures）、特殊流程（specific procedures）、连接管理流程（connection management procedures）</p>
<ul>
<li>EMM 通用流程：指在 UE 和 MME 之间存在 NAS 信令连接时始终可以发起的流程。此流程可进一步分为五个流程：<ol>
<li>全局唯一临时标识符 (GUTI) 分配（GUTI (Global Unique Temporary ID) reallocation）</li>
<li>身份验证（Authentication）</li>
<li>安全模式控制 (Security mode control) </li>
<li>身份识别（Identification）</li>
<li>EMM 信息（EMM information）</li>
</ol>
</li>
<li>EMM 特定流程：指与用户移动性（注册和位置更新）相关的流程。<ol>
<li>它规定了在TA Update的机制：当UE发现自己进入了一个新的TA时，其发起TA Update流程</li>
<li>其还引入了TA List这个概念：当UE进入一个TAL中包含的了TA时，其无需发布TA Update流程，还可以通过向UE提供不同的TAL来避免信号峰值，例如当列车上的所有UE都跨越TA边界时。</li>
</ol>
</li>
<li>EMM 连接管理流程：指与建立 NAS 信令连接相关的流程。它可进一步分为三个流程：<ol>
<li>服务请求（Service request:）：由UE发起，开始建立NAS信令连接</li>
<li>寻呼（Paging）：在下行 NAS 信令的情况下由网络发起，以指示 UE 开始服务请求</li>
<li>NAS 消息传输（Transport of NAS messages）：其他NAS信令的传输。</li>
</ol>
</li>
</ul>
<h2 id="UE附着流程"><a href="#UE附着流程" class="headerlink" title="UE附着流程"></a>UE附着流程</h2><p><img src="https://cdn.jsdelivr.net/gh/kaysonz/BlogPicHost/imgs/image-20240926122826134.png" alt="image-20240926122826134"></p>
<p><img src="https://cdn.jsdelivr.net/gh/kaysonz/BlogPicHost/imgs/image-20240926122836433.png" alt="image-20240926122836433"></p>
<h2 id="切换"><a href="#切换" class="headerlink" title="切换"></a>切换</h2><h3 id="切换类型"><a href="#切换类型" class="headerlink" title="切换类型"></a>切换类型</h3><p>LTE网内（即，不涉及4G切换到3G、2G）切换有4中：</p>
<ul>
<li>eNB扇区间切换</li>
<li>eNB间通过X2接口切换</li>
<li>同一MME下不同eNB通过S1接口切换</li>
<li>不同MME间经由S1接口切换</li>
</ul>
<h3 id="eNB间通过X2接口切换"><a href="#eNB间通过X2接口切换" class="headerlink" title="eNB间通过X2接口切换"></a>eNB间通过X2接口切换</h3><p><img src="https://cdn.jsdelivr.net/gh/kaysonz/BlogPicHost/imgs/image-20240926125230524.png" alt="image-20240926125230524"></p>
<h3 id="同一MME下eNB间通过S1接口切换"><a href="#同一MME下eNB间通过S1接口切换" class="headerlink" title="同一MME下eNB间通过S1接口切换"></a>同一MME下eNB间通过S1接口切换</h3><p><img src="https://cdn.jsdelivr.net/gh/kaysonz/BlogPicHost/imgs/image-20240926125213208.png" alt="image-20240926125213208"></p>
<h3 id="LTE内不同MME下通过S1接口切换"><a href="#LTE内不同MME下通过S1接口切换" class="headerlink" title="LTE内不同MME下通过S1接口切换"></a>LTE内不同MME下通过S1接口切换</h3><p><img src="https://cdn.jsdelivr.net/gh/kaysonz/BlogPicHost/imgs/image-20240926125158753.png" alt="image-20240926125158753"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://www.kaysonz.top">栞风</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://www.kaysonz.top/posts/773de39a">https://www.kaysonz.top/posts/773de39a</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.kaysonz.top" target="_blank">風</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C/">通信网络</a></div><div class="post_share"></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%95%E5%85%A5"><span class="toc-number">1.</span> <span class="toc-text">引入</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#LET-A%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84"><span class="toc-number">2.</span> <span class="toc-text">LET-A网络结构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%85%A5%E7%BD%91E-UTRAN"><span class="toc-number">2.1.</span> <span class="toc-text">接入网E-UTRAN</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E7%BD%91EPC"><span class="toc-number">2.2.</span> <span class="toc-text">核心网EPC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#EPC%E6%A0%B8%E5%BF%83%E7%BD%91%E5%85%83"><span class="toc-number">2.2.1.</span> <span class="toc-text">EPC核心网元</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EPC%E7%BD%91%E5%85%83%E9%97%B4%E6%8E%A5%E5%8F%A3%EF%BC%9A"><span class="toc-number">2.2.2.</span> <span class="toc-text">EPC网元间接口：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#LTE%E7%9A%84%E6%8E%A7%E5%88%B6%E6%B5%81%E7%A8%8B"><span class="toc-number">3.</span> <span class="toc-text">LTE的控制流程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BA%AB%E4%BB%BD%E8%AF%86%E5%88%AB"><span class="toc-number">3.1.</span> <span class="toc-text">身份识别</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GUMMEI"><span class="toc-number">3.1.1.</span> <span class="toc-text">GUMMEI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TAC-amp-TAI"><span class="toc-number">3.1.2.</span> <span class="toc-text">TAC&amp;TAI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ECI-amp-ECGI-amp-PCI"><span class="toc-number">3.1.3.</span> <span class="toc-text">ECI&amp;ECGI&amp;PCI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IMEI-amp-IMSI-amp-GUTI"><span class="toc-number">3.1.4.</span> <span class="toc-text">IMEI&amp;IMSI&amp;GUTI</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E7%B1%BB%E7%A7%BB%E5%8A%A8%E6%80%A7%E7%AE%A1%E7%90%86"><span class="toc-number">3.2.</span> <span class="toc-text">三类移动性管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UE%E9%99%84%E7%9D%80%E6%B5%81%E7%A8%8B"><span class="toc-number">3.3.</span> <span class="toc-text">UE附着流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E6%8D%A2"><span class="toc-number">3.4.</span> <span class="toc-text">切换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.4.1.</span> <span class="toc-text">切换类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#eNB%E9%97%B4%E9%80%9A%E8%BF%87X2%E6%8E%A5%E5%8F%A3%E5%88%87%E6%8D%A2"><span class="toc-number">3.4.2.</span> <span class="toc-text">eNB间通过X2接口切换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E4%B8%80MME%E4%B8%8BeNB%E9%97%B4%E9%80%9A%E8%BF%87S1%E6%8E%A5%E5%8F%A3%E5%88%87%E6%8D%A2"><span class="toc-number">3.4.3.</span> <span class="toc-text">同一MME下eNB间通过S1接口切换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LTE%E5%86%85%E4%B8%8D%E5%90%8CMME%E4%B8%8B%E9%80%9A%E8%BF%87S1%E6%8E%A5%E5%8F%A3%E5%88%87%E6%8D%A2"><span class="toc-number">3.4.4.</span> <span class="toc-text">LTE内不同MME下通过S1接口切换</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background: rgba(0, 0, 0, .1);"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By 栞风</div><div class="footer_custom_text">转载请注明出处,博客内容接入查重,请勿直接用于大作业/实验|ू･ω･` )</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.12.0"></script><script src="/js/main.js?v=4.12.0"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.12.0"></script></div></div><!-- hexo injector body_end start --><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>